common --enable_bzlmod
build --incompatible_enable_cc_toolchain_resolution
build --incompatible_strict_action_env
build --enable_runfiles
build --enable_platform_specific_config

# Required by Meson on Windows
build:windows --action_env=PROCESSOR_ARCHITECTURE
build:windows --action_env=USERPROFILE

# Required when using the built meson toolchain on windows
build:windows --nobuild_python_zip

# Required to build on Windows
# You'll need to download bash.exe 
build:windows --shell_executable=C:/Windows/System32/bash.exe

# Enable CC toolchain that supports iOS from https://github.com/bazelbuild/apple_support
build:macos --apple_crosstool_top=@local_config_apple_cc//:toolchain
build:macos --crosstool_top=@local_config_apple_cc//:toolchain
build:macos --host_crosstool_top=@local_config_apple_cc//:toolchain

try-import %workspace%/user.bazelrc